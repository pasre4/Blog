---
title: 索引
date: 2020-8-13
tags: 
  - 数据库
  - 知识点
author: pasre
location: Suzhou  
---

## 什么是索引
索引是对数据库表中的一列或多列(字段,组合索引)的值进行排序的一种结构, 它是一个单独的数据结构,是一列或列表值的集合和相应的指向表中物理标识这些值的逻辑指针清单


## 索引的有点
```
1. 大大加快数据的检索速度
2. 创建唯一性索引 可以保证数据的唯一性
3. 加速表与表之间的连接
4. 在使用分组和排序子句进行数据检索时,能显著减少查询中分组和排序的时间
```

## 索引的缺点
```
1. 创建和维护索引需要额外的时间  因为索引是单独的一份文件  这个时间会随着数据量的增大而增加
2. 索引需要占用磁盘空间  如果创建了大量索引  索引文件可能会比数据文件更早达到最大限制
3. 当对表中的数据进行增加、修改、删除时  索引也需要动态的维护  从而降低了操作的速度
```


## 索引种类
    不同的数据库有不同的索引种类

### Sql Server
```
* 聚集索引
* 非聚集索引
区别在于物理数据的存储上  因为数据化本身只能按照一个顺序进行排序
```
1. 主键和索引的区别
    ```
    主键的创建必须依赖于索引,创建主键时默认为聚集索引,可更改为非聚集索引 同时主键为唯一性索引
    所以通常会认为主键是具有唯一性约束的聚集索引
    ```
2. 聚集索引
    ```
    一张表中只能有一个聚集索引,表中的物理顺序和索引中行的物理顺序是一致的,在创建任何非聚集索引时前必须创建聚集索引
    ```
3. 非聚集索引
    ```
    非聚集索引具有完全独立的数据行结构,创建非聚集索引不会导致物理数据发生排序
    非聚集索引包含索引键值和指向表数据存储位置的行定位器
    非聚集索引可以创建多个 用于对常用查询的性能优化
    ```


#### MySql
```
* 普通索引:  仅加速查询
* 唯一索引:  加速查询 + 列值唯一（可以有null）
* 主键索引:  加速查询 + 列值唯一（不可以有null）+ 表中只有一个
* 组合索引:  多列值组成一个索引，专门用于组合搜索，其效率大于索引合并
* 全文索引:  对文本的内容进行分词，进行搜索
```

```
FULLTEXT: 全文索引
HASH:     哈希
BTREE:    树形
RTREE:    仅支持geometry数据类型  优势在于范围查找
```


---
title: 第二章:进程和线程
date: 2020-8-14
tags: 
  - 考研
  - 计算机操作系统
author: pasre
location: Suzhou  
---

## 一、 进程的定义、组成、组织方式、特征
### 1.1 进程的定义
  <font color="red">程序段、数据段、PCB</font>三部分组成了<font color="red">进程实体</font>（<font color="red">进程映像</font>）。  
  <font color="red">PCB是进程存在的唯一标志！</font>  

  从不同的角度、进程可以有不同的定义，比较传统典型的定义有：
  > 进程是程序的一次<font color="blue">执行过程</font>  
  > 进程是一个程序及其数据在处理机上顺序执行时所<font color="blue">发生的活动</font>。   
  > 进程是具有独立功能的程序在数据集合上<font color="blue">运行的过程</font>，它是系统进行资源分配和调度的一个独立单位

  <font color="red">进程</font>是进程实体的<font color="blue">运行过程</font>，是系统进行<font color="red">资源分配</font>和<font color="red">调度</font>的一个独立单位。  
  严格来说，进程实体和进程并不一样，进程实体是<font color="red">静态的</font>，进程则是<font color="red">动态的</font>。

### 1.2 进程的组成
  进程（进程实体）有<font color="red">程序段、数据段、PCB</font>三部分组成。  

  <details>
    <summary><font color="pink">PCB</font></summary>

  * 进程描述信息
    > 进程标识符PID  
    > 用户标识符UID  

  * 进程控制和管理信息
    > 进程当前状态  
    > 进程优先级  

  * 资源分配清单
    > 程序段指针  
    > 数据段指针  
    > 键盘  
    > 鼠标

  * 处理机相关信息
    > 各种寄存器值
  
  </details>

  <font color="pink">程序段</font> `存放要执行的代码`  

  <font color="pink">数据段</font> `存放程序运行过程中处理的各种数据`
  

### 1.3 进程的组织
  `执行指针` `就绪队列指针` `阻塞队列指针`  

  * 链接方式 
    > 按照进程状态将PCB分为多个队列  
    > 操作系统持有指向各个队列的指针

  * 索引方式
    > 根据进程状态的不同，建立几张索引表  
    > 操作系统持有指向各个索引表的指针

### 1.4 进程的特征

  * 动态性 `进程是程序的一次执行过程，是动态的产生、变化和消亡的`
  * 并发性 `内存中有多个进程实体、各进程可并发执行`
  * 独立性 `进程是能独立运行、独立获得资源、独立接受调度的基本单位`
  * 异步性 
    > 各进程按各自独立的、不可预知的速度向前推进  
    > 操作系统要提供"进程同步机制"来解决异步问题
  * 结构性 `每个进程都会配置一个PCB。结构上看，进程由程序段、数据段、PCB组成`

## 二、进程的状态与转换

### 2.1 进程的状态
  * 运行态 `占有CPU，并在CPU上运行`
  * 就绪态 `已经具备运行条件，但由于没有空闲CPU，而暂时不能运行`
  * 阻塞态(等待态) `因等待某一事件而暂时不能运行`

  * 创建态(新建态) `进程正在被创建，操作系统为进程分配资源、舒适化PCB`
  * 终止态(结束态) `进程正在从系统中撤销，操作系统会回收进程拥有的资源、撤销PCB`

### 2.2 进程状态的转换
  阻塞态 → 就绪态 不是进程自身能控制的，是一种<font color="red">被动行为</font>。  
  运行态 → 阻塞态 是一种进程自身做出的<font color="red">主动行为</font>  

  <font color="red">不能由阻塞态直接转换为运行态，也不能由就绪态直接转换为阻塞态</font>（进入阻塞态是进程主动请求的，必须进程在运行时才能发出这种请求）

  > 就绪态 → 运行态 `进程被调度`  
  > 运行态 → 就绪态 `时间片到，或CPU被其他高优先级的进程抢占`  
  > 运行态 → 阻塞态 `等待系统资源分配，或等待某事件发生(主动行为)`  
  > 阻塞态 → 就绪态 `资源分配到位，等待的世界发生(被动行为)`  
  > 创建态 → 就绪态 `系统完成创建进程相关的工作`  
  > 运行态 → 终止态 `进程运行结束，或运行过程中遇到不可修复的错误`

## 三、进程控制

## 四、进程通信

## 五、线程概念和多线程模型

## 六、处理机调度的时机、切换与过程、方式

## 七、调度算法的评价指标

## 八、FCFS、SJF、HRRN调度算法

## 九、调度算法：时间片轮转、优先级调度、多级反馈队列

## 十、进程同步、进程互斥

## 十一、进程互斥的软件实现

## 十二、进程互斥的硬件实现

## 十三、信号量机制

## 十四、用信号量实现进程互斥、同步、前驱关系

## 十五、生产者-消费者问题

## 十六、多生产者-多消费者问题

## 十七、吸烟者问题

## 十八、读者-写着问题

## 十九、哲学家进餐问题

## 二十、管程

